<!DOCTYPE html>
<html lang="en">
<head>
<title>Chat with your AWS bill using AWS MCP, Amazon Q CLI | Ebrahim Khiyami</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="Blog Author">
<meta name="generator" content="Jekyll v4.2.0">
<link rel="canonical" href="http://0.0.0.0:4000/chat-with-aws/">

<!-- Social sharing meta tags -->
<meta property="og:title" content="Chat with your AWS bill using AWS MCP, Amazon Q CLI | Ebrahim Khiyami">
<meta property="og:description" content="This blog post was first published on AWS Community">
<meta property="og:image" content="https://ekhiyami.github.io/assets/eb-clean.jpg">
<meta property="og:url" content="http://0.0.0.0:4000/chat-with-aws/">
<meta name="twitter:card" content="summary_large_image">


<link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css"/>
<script src="https://cdn.tailwindcss.com"></script>
<script>
    tailwind.config = {
        theme: {
            extend: {
                colors: {
                    primary: 'var(--primary-bg)',
                    'primary-text': 'var(--primary-text)',
                    secondary: 'var(--secondary-text)',
                    accent: 'var(--accent-color)',
                    'dark-bg': 'var(--dark-bg)',
                    'light-grey-bg': 'var(--light-grey-bg)',
                },
                fontFamily: {
                    sans: ['Inter', 'sans-serif'],
                },
                borderRadius: {
                    'lg': 'var(--border-radius-lg)',
                    'xl': 'var(--border-radius-xl)',
                },
                boxShadow: {
                    'subtle': '0 2px 4px rgba(0,0,0,0.05), 0 4px 6px rgba(0,0,0,0.05)',
                }
            }
        }
    }
</script>

<style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

    :root {
        --primary-bg: #FFFFFF;
        --primary-text: #000000;
        --secondary-text: #4A4A4A;
        --dark-bg: #000000;
        --accent-color: #2563EB;
        --light-grey-bg: #F8F8F8;
        --border-radius-lg: 12px;
        --border-radius-xl: 20px;
    }

    body {
        font-family: 'Inter', sans-serif;
        background-color: var(--primary-bg);
        color: var(--primary-text);
        line-height: 1.6;
        margin: 0;
        padding: 0;
    }

    /* Global Typography - Consistent with About Page */
    h1, h2, h3, h4, h5, h6 {
        color: #000000;
        font-weight: 700;
        font-family: 'Inter', sans-serif;
    }

    h1 {
        font-size: 2.25rem;
        line-height: 1.2;
        margin-bottom: 1rem;
    }

    h2 {
        font-size: 1.875rem;
        line-height: 1.3;
        margin-bottom: 0.75rem;
    }

    h3 {
        font-size: 1.5rem;
        line-height: 1.4;
        margin-bottom: 0.5rem;
    }

    p {
        color: #000000;
        font-size: 1.125rem;
        line-height: 1.75;
        margin-bottom: 1rem;
    }

    /* Ensure consistent styling across all pages */
    .modern-page h1, .modern-page h2, .modern-page h3, .modern-page h4, .modern-page h5, .modern-page h6 {
        color: #000000;
        font-weight: 700;
    }

    .modern-page p {
        color: #000000;
        font-size: 1.125rem;
        line-height: 1.75;
    }

    /* Page Section Styling - Consistent with About Page */
    .page-section {
        background: white;
        min-height: 100vh;
        padding-top: 0.25rem;
        padding-bottom: 1rem;
    }

    .section-header {
        background: white;
        padding: 2rem 1rem;
    }

    .section-header .container {
        max-width: 64rem;
        margin: 0 auto;
    }

    .section-title {
        position: relative;
        margin-bottom: 4rem;
    }

    .section-title h1 {
        font-size: 1.875rem;
        font-weight: 300;
        color: #000000;
        letter-spacing: -0.025em;
        line-height: 1.2;
        margin-bottom: 0;
    }

    @media (min-width: 768px) {
        .section-title h1 {
            font-size: 2.25rem;
        }
    }

    .section-title .highlight {
        padding: 0.25rem 0.75rem;
        background-color: #000000;
        color: white;
        border-radius: 0.375rem;
        position: relative;
    }

    .section-title .highlight::after {
        content: '';
        position: absolute;
        bottom: -0.5rem;
        left: 0;
        right: 0;
        height: 0.125rem;
        background-color: #2563EB;
        border-radius: 9999px;
    }

    .cta-button {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        background-color: var(--dark-bg);
        color: var(--primary-bg);
        padding: 1rem 2rem;
        border-radius: var(--border-radius-lg);
        font-weight: 600;
        transition: all 0.2s ease-in-out;
        text-decoration: none;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .cta-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        background-color: #2a3a44;
    }

    .text-gradient {
        background: linear-gradient(90deg, #2563EB, #1D4ED8);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .link-text {
        color: var(--accent-color);
        text-decoration: none;
        font-weight: 500;
    }

    .link-text:hover {
        text-decoration: underline;
    }

    .nav-link {
        color: var(--primary-text);
        text-decoration: none;
        font-weight: 500;
        padding: 0.5rem 1rem;
        border-radius: var(--border-radius-lg);
        transition: all 0.2s ease-in-out;
    }

    .nav-link:hover {
        background-color: #f8f9fa;
        color: #000000;
    }

    .nav-link.active {
        background-color: #000000;
        color: #ffffff;
    }
</style>


</head>

<body>
<!-- Fixed Top Navigation -->
<nav class="fixed top-0 left-0 w-full bg-primary bg-opacity-95 backdrop-blur-sm z-50 shadow-sm py-3 px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between max-w-7xl mx-auto">
        <div class="flex items-center space-x-3">
            <img src="/assets/eb-clean.jpg" alt="Ebrahim Khiyami" class="w-10 h-10 rounded-full object-cover border-2 border-gray-300">
            <span class="hidden sm:block text-primary-text font-semibold text-lg">Ebrahim Khiyami</span>
        </div>
        
        <!-- Desktop Navigation -->
        <div class="hidden md:flex items-center space-x-1">
            <a href="/" class="nav-link ">Home</a>
            <a href="/about/" class="nav-link ">About</a>
            <a href="/mentoring/" class="nav-link ">Mentoring</a>
        </div>
        
        <!-- Mobile Menu Button -->
        <button id="mobile-menu-btn" class="md:hidden p-2 rounded-lg hover:bg-light-grey-bg">
            <i data-lucide="menu" class="w-6 h-6"></i>
        </button>
    </div>
    
    <!-- Mobile Navigation -->
    <div id="mobile-menu" class="hidden md:hidden mt-4 pb-4 border-t border-gray-200">
        <div class="flex flex-col space-y-2 pt-4">
            <a href="/" class="nav-link ">Home</a>
            <a href="/about/" class="nav-link ">About</a>
            <a href="/mentoring/" class="nav-link ">Mentoring</a>
        </div>
    </div>
</nav>

<div class="modern-page">
    <main class="pt-20">
        <div class="blog-post-section bg-gradient-to-br from-slate-50 to-blue-50 min-h-screen pt-1 pb-4">

<!-- Blog Post Header -->
<div class="max-w-4xl mx-auto px-4 py-8">
  <div class="bg-white rounded-2xl shadow-lg p-8 md:p-12 border border-slate-200">
    <!-- Post Meta -->
    <div class="flex items-center mb-6 text-sm text-slate-500">
      <div class="flex items-center mr-6">
        <i data-lucide="calendar" class="w-4 h-4 mr-2"></i>
        <time datetime="2025-05-06T00:00:00-05:00">May 06, 2025</time>
      </div>
      <div class="flex items-center mr-6">
        <i data-lucide="clock" class="w-4 h-4 mr-2"></i>
        <span>5 min read</span>
      </div>
      
        <div class="flex items-center">
          <i data-lucide="tag" class="w-4 h-4 mr-2"></i>
          <span>media</span>
        </div>
      
    </div>
    
    <!-- Post Title -->
    <h1 class="text-3xl md:text-4xl font-bold text-black mb-6 leading-tight">Chat with your AWS bill using AWS MCP, Amazon Q CLI</h1>
    
    <!-- Author Info -->
    <div class="flex items-center mb-8 pb-6 border-b border-slate-200">
      
        <img src="/assets/eb-clean.jpg" alt="Ebrahim Khiyami" class="w-12 h-12 rounded-full object-cover mr-4">
      
      <div>
        <p class="font-semibold text-black">Ebrahim Khiyami</p>
        <p class="text-sm text-gray-600">Solutions Architect at AWS</p>
      </div>
    </div>
  </div>
</div>

<!-- Blog Post Content -->
<div class="max-w-4xl mx-auto px-4 pb-8">
  <div class="bg-white rounded-2xl shadow-lg border border-slate-200 overflow-hidden">
    <article class="post-content p-8 md:p-12">
      <p>This blog post was first published on <a href="https://community.aws/editor/posts/edit/content/2mIzefdB2B2g94f3YxoxkVObuTo?v=2wjQFa02dCwNzdevZPZIy9nplr4">AWS Community</a></p>

<p># Chat with Your AWS Bill Using Amazon Q CLI</p>

<p>In this blog post, I‚Äôll walk you through a simple demo to chat with your AWS bill‚Äîbreak it down, analyze it, and get cost optimization recommendations based on the AWS Well-Architected best practices. This uses the latest <strong>MCP support</strong> recently added to the <strong>Amazon Q CLI</strong>.</p>

<hr />

<h2 id="-what-can-you-ask">üí¨ What can you ask?</h2>

<p>With this setup, you can ask Amazon Q natural language questions like:</p>

<ul>
  <li>What is my storage cost across all regions?</li>
  <li>What is my total spend in the last month?</li>
  <li>Based on my S3 usage, can you recommend ways to reduce costs?</li>
  <li>‚Ä¶and much more.</li>
</ul>

<p>Amazon Q will understand your question using one MCP server, then route it to another server that can fetch and calculate the data. In some cases, it may even generate and run scripts on your behalf to get the answer. For example, if you ask for the <strong>total cost of EBS storage across all regions</strong>, it may need to gather and compute data that‚Äôs not directly available from the Cost Explorer API.</p>

<p><a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ" title="Watch the Demo">
  <img src="/assets/yt.png" alt="Watch the video" width="40" />
</a></p>

<p><a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ">Watch the demo</a></p>

<hr />

<p><strong>The architecture is a standard MCP server architecture</strong>.</p>

<p><img src="/assets/chat-bill.png" alt="chat-bill" /></p>

<hr />

<h2 id="-the-setup-is-simple">üß± The setup is simple</h2>

<h3 id="step-1-set-up-amazon-q-cli">Step 1: Set up Amazon Q CLI</h3>

<ul>
  <li>Install the Amazon Q CLI</li>
  <li>Run <code class="language-plaintext highlighter-rouge">q login</code></li>
  <li>Run <code class="language-plaintext highlighter-rouge">q chat</code></li>
</ul>

<h3 id="Ô∏è-step-2-configure-mcp-servers">‚öôÔ∏è Step 2: Configure MCP servers</h3>

<p>To enable cost optimization queries, you need to link Amazon Q with the correct MCP servers. Do this by editing (or creating) the following file:</p>

<p>```bash
~/.aws/amazonq/mcp.json</p>

<p>Paste the following configuration:</p>

<p>{
  ‚ÄúmcpServers‚Äù: {
    ‚Äúawslabs.core-mcp-server‚Äù: {
      ‚Äúcommand‚Äù: ‚Äú/Users/ekhiyami/.local/bin/uvx‚Äù,
      ‚Äúargs‚Äù: [‚Äúawslabs.core-mcp-server@latest‚Äù],
      ‚Äúenv‚Äù: {
        ‚ÄúFASTMCP_LOG_LEVEL‚Äù: ‚ÄúERROR‚Äù
      },
      ‚ÄúautoApprove‚Äù: [‚Äúprompt_understanding‚Äù],
      ‚Äúdisabled‚Äù: false
    },
    ‚Äúawslabs.cost-analysis-mcp-server‚Äù: {
      ‚Äúcommand‚Äù: ‚Äú/Users/ekhiyami/.local/bin/uvx‚Äù,
      ‚Äúargs‚Äù: [‚Äúawslabs.cost-analysis-mcp-server@latest‚Äù],
      ‚Äúenv‚Äù: {
        ‚ÄúFASTMCP_LOG_LEVEL‚Äù: ‚ÄúERROR‚Äù,
        ‚ÄúAWS_PROFILE‚Äù: ‚Äúdefault‚Äù
      },
      ‚ÄúautoApprove‚Äù: [‚Äúanalyze_cdk_project‚Äù]
    }
  }
}</p>

<p>Restart your session and start asking questions about your AWS spend. Check the video above for examples.</p>

<p><a href="https://www.linkedin.com/posts/eb-khiyami_chat-with-your-aws-bill-activity-7325533983788662786-PT-6?utm_source=share&amp;utm_medium=member_desktop&amp;rcm=ACoAAALV-AEByriO-neqsWiP7QcZkthfNqE6-Oo">LinkedIn Post</a></p>

<p><img src="/assets/chatbill.png" alt="chatbill" /></p>

<h2 id="-helpful-resources">üîó Helpful Resources</h2>

<ul>
  <li><a href="https://github.com/aws-samples/amazon-q-mcp-servers">List of all AWS MCP servers</a></li>
  <li><a href="https://docs.aws.amazon.com/q/developer-guide/getting-started-cli.html">Amazon Q Installation Guide</a></li>
  <li><a href="https://github.com/aws-samples/amazon-q-cli">Amazon Q MCP Integration</a></li>
  <li><a href="https://github.com/aws-samples/amazon-q-mcp-cost-analysis">Cost Analysis MCP Server</a></li>
</ul>

    </article>
  </div>
</div>

<!-- Back to Blog -->
<div class="max-w-4xl mx-auto px-4 py-8">
  <div class="text-center">
    <a href="/" class="inline-flex items-center px-6 py-3 bg-blue-600 text-white font-semibold rounded-xl hover:bg-blue-700 transition-colors shadow-lg hover:shadow-xl">
      <i data-lucide="arrow-left" class="w-4 h-4 mr-2"></i>
      Back to All Posts
    </a>
  </div>
</div>

</div>

<style>
  .post-content {
    font-family: 'Inter', sans-serif;
    font-size: 1.1em;
    line-height: 1.8;
    color: #000000;
  }
  
  .post-content h1, .post-content h2, .post-content h3, .post-content h4, .post-content h5, .post-content h6 {
    color: #000000;
    font-weight: 700;
    margin-top: 2em;
    margin-bottom: 1em;
  }
  
  .post-content h1 {
    font-size: 2.25em;
    margin-top: 1.5em;
  }
  
  .post-content h2 {
    font-size: 1.875em;
    border-bottom: 2px solid #e2e8f0;
    padding-bottom: 0.5em;
  }
  
  .post-content h3 {
    font-size: 1.5em;
    color: #2563eb;
  }
  
  .post-content p {
    margin-bottom: 1.5em;
  }
  
  .post-content ul, .post-content ol {
    margin: 1.5em 0;
    padding-left: 2em;
  }
  
  .post-content li {
    margin-bottom: 0.5em;
  }
  
  .post-content a {
    color: #2563eb;
    text-decoration: none;
    font-weight: 500;
    border-bottom: 1px solid transparent;
    transition: border-color 0.2s;
  }
  
  .post-content a:hover {
    border-bottom-color: #2563eb;
  }
  
  .post-content img {
    max-width: 100%;
    height: auto;
    border-radius: 12px;
    margin: 2em auto;
    display: block;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  }
  
  .post-content blockquote {
    border-left: 4px solid #2563eb;
    background: #f8fafc;
    padding: 1.5em;
    margin: 2em 0;
    border-radius: 0 8px 8px 0;
    font-style: italic;
    color: #475569;
  }
  
  .post-content code {
    background-color: #f1f5f9;
    color: #e11d48;
    padding: 0.25em 0.5em;
    border-radius: 4px;
    font-family: 'Monaco', 'Consolas', 'Courier New', monospace;
    font-size: 0.9em;
  }
  
  .post-content pre {
    background-color: #1e293b;
    color: #f8fafc;
    padding: 1.5em;
    border-radius: 12px;
    overflow-x: auto;
    margin: 2em 0;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  }
  
  .post-content pre code {
    background: none;
    color: inherit;
    padding: 0;
  }
  
  .post-content hr {
    border: none;
    height: 2px;
    background: linear-gradient(to right, #e2e8f0, #2563eb, #e2e8f0);
    margin: 3em 0;
    border-radius: 1px;
  }
  
  .post-content table {
    width: 100%;
    border-collapse: collapse;
    margin: 2em 0;
    background: white;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }
  
  .post-content th, .post-content td {
    padding: 1em;
    text-align: left;
    border-bottom: 1px solid #e2e8f0;
  }
  
  .post-content th {
    background: #f8fafc;
    font-weight: 600;
    color: #1e293b;
  }
  
  .post-content strong {
    color: #000000;
    font-weight: 600;
  }
  
  .post-content em {
    color: #64748b;
  }
</style>

<script src="https://unpkg.com/lucide@latest"></script>
<script>
    lucide.createIcons();
</script>
    </main>
</div>

<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script src="https://unpkg.com/lucide@latest"></script>
<script>
    lucide.createIcons();
    AOS.init({
        once: true,
        duration: 800,
        easing: 'ease-out',
        offset: 50,
    });
    
    // Mobile menu toggle
    document.addEventListener('DOMContentLoaded', function() {
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        
        if (mobileMenuBtn && mobileMenu) {
            mobileMenuBtn.addEventListener('click', function() {
                mobileMenu.classList.toggle('hidden');
            });
        }
    });
</script>

</body>
</html>